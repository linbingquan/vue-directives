!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["vue-directives"]={})}(this,(function(e){"use strict";const t={bind(e,{value:t}){e.$value=t,e.handler=()=>{if(!e.$value)return void console.log("无复制内容");const t=document.createElement("textarea");t.readOnly="readonly",t.style.position="absolute",t.style.left="-9999px",t.value=e.$value,document.body.appendChild(t),t.select();document.execCommand("Copy")&&console.log("复制成功"),document.body.removeChild(t)},e.addEventListener("click",e.handler)},componentUpdated(e,{value:t}){e.$value=t},unbind(e){e.removeEventListener("click",e.handler)}},n={bind:function(e,t){if("function"!=typeof t.value)throw"callback must be a function";let n=null,o=e=>{"click"===e.type&&0!==e.button||null===n&&(n=setTimeout((()=>{l()}),2e3))},i=()=>{null!==n&&(clearTimeout(n),n=null)};const l=e=>{t.value(e)};e.addEventListener("mousedown",o),e.addEventListener("touchstart",o),e.addEventListener("click",i),e.addEventListener("mouseout",i),e.addEventListener("touchend",i),e.addEventListener("touchcancel",i)},componentUpdated(e,{value:t}){e.$value=t},unbind(e){e.removeEventListener("click",e.handler)}},o={inserted:function(e,t){let n;e.addEventListener("click",(()=>{n&&clearTimeout(n),n=setTimeout((()=>{t.value()}),1e3)}))}};const i={bind:function(e){var t=/[^\u4E00-\u9FA5|\d|a-zA-Z|\r\n\s,.?!，。？！…—&$=()\-+/*{}[\]]|\s/g;let n=(i="input",(o=e).tagName.toLowerCase()===i?o:o.querySelector(i));var o,i;e.$inp=n,n.handle=function(){let e=n.value;n.value=e.replace(t,""),((e,t)=>{const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)})(n,"input")},n.addEventListener("keyup",n.handle)},unbind:function(e){e.$inp.removeEventListener("keyup",e.$inp.handle)}},l={bind(e,t){if("string"!=typeof t.value)throw"v-lazy .value must be a string";e.setAttribute("data-src",t.value)},inserted(e){IntersectionObserver?l.observe(e):l.listenerScroll(e)},observe(e){new IntersectionObserver((t=>{const n=e.dataset.src;t[0].isIntersecting&&n&&(e.src=n,e.removeAttribute("data-src"))})).observe(e)},listenerScroll(e){const t=l.throttle(l.load,300);l.load(e),window.addEventListener("scroll",(()=>{t(e)}))},load(e){const t=document.documentElement.clientHeight,n=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom,i=e.dataset.src;n-t<0&&o>0&&i&&(e.src=i,e.removeAttribute("data-src"))},throttle(e,t){let n,o;return function(...i){const l=Date.now(),a=this;if(o||(o=l),clearTimeout(n),l-o>t)return o=l,e.apply(a,i),void clearTimeout(n);n=setTimeout((function(){o=Date.now(),n=null,e.apply(a,i)}),t)}}};const a={permissions:[],inserted:function(e,t){const n=t.value;if(n){(o=n,a.permissions.indexOf(o)>-1)||e.parentNode&&e.parentNode.removeChild(e)}var o}};const r={bind(e,t){!function(e,t,n,o){var i=document.createElement("canvas");t.appendChild(i),i.width=200,i.height=150,i.style.display="none";var l=i.getContext("2d");l.rotate(-20*Math.PI/180),l.font=n||"16px Microsoft Yahei",l.fillStyle=o||"rgba(180, 180, 180, 0.3)",l.textAlign="left",l.textBaseline="Middle",l.fillText(e,i.width/10,i.height/2),t.style.backgroundImage="url("+i.toDataURL("image/png")+")"}(t.value.text,e,t.value.font,t.value.color)}},s={inserted:function(e){e.style.position="absolute",e.style.cursor="move",e.onmousedown=function(t){let n=t.pageX-e.offsetLeft,o=t.pageY-e.offsetTop;document.onmousemove=function(t){let i=t.pageX-n,l=t.pageY-o,a=document.body.clientWidth-parseInt(window.getComputedStyle(e).width),r=document.body.clientHeight-parseInt(window.getComputedStyle(e).height);i<0?i=0:i>a&&(i=a),l<0?l=0:l>r&&(l=r),e.style.left=i+"px",e.style.top=l+"px"},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}}},d={copy:t,longpress:n,debounce:o,emoji:i,lazy:l,permission:a,watermarker:r,draggable:s};var u={install(e){Object.keys(d).forEach((t=>{e.directive(t,d[t])}))}};e.Copy=t,e.Debounce=o,e.Draggable=s,e.Emoji=i,e.Lazy=l,e.Longpress=n,e.Permission=a,e.Watermarker=r,e.default=u,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
